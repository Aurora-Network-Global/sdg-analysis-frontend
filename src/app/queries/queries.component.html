<nav class="navbar">
  <a class="navbar-brand" style="height: 50px;" href="https://aurora-network.global/">AurorA</a>
  <button pButton type="button" class="ui-button-success" style="width: 120px; height: 40px"
          label="Start" [routerLink]="['/start']"></button>
  >>
  <button pButton type="button" class="ui-button-success" style="width: 120px; height: 40px" label="Query"
          [routerLink]="['/queries', queryId]"></button>
  >>
  <span *ngFor="let page of resultPages">
  <button pButton type="button" class="ui-button-success" style="width: 120px; height: 40px" label="{{page.title}}"
          [routerLink]="['/results/' + page.key, queryId]"></button>
  >>
  </span>
</nav>
<div class="content">
  <p-toast [style]="{marginTop: '80px'}"></p-toast>
  <div *ngIf="!loading" class="ui-g">
    <div class="ui-g-10 ui-g-offset-1">
      <div class="tile">
        <h1>Query Definition for "{{projectService.activeProject.name}}"</h1>
      </div>
    </div>
    <div class="ui-g-10 ui-g-offset-1">
      <div class="tile">
        <p class="description">
          Define the individual fields for your query. When finished press "Save". For validating the created
          <a href="https://www.scopus.com">Scopus</a> search string, press "Copy Scopus search" to copy the search string to the clipboard.
          Open the advanced search in <a href="https://www.scopus.com">Scopus</a> and paste the clipboard contents by pressing Strg-v.
          When the query is defined, go forward to the EID collection page by clicking "To EIDs".
         </p>
      </div>
    </div>
    <div class="ui-g-10 ui-g-offset-1" style="text-align: left">
      <div class="tile ui-fluid">
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Topic:</h3>
          </div>
          <div class="ui-g-9">
      <textarea id="topic" [rows]="5" [cols]="120" pInputTextarea [(ngModel)]="query.topic"
                autoResize="autoResize"></textarea>
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Author Names:</h3>
          </div>
          <div class="ui-g-9">
      <textarea id="authorName" [rows]="2" [cols]="120" pInputTextarea [(ngModel)]="query.author_name"
                autoResize="autoResize"></textarea>
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Author IDs:</h3>
          </div>
          <div class="ui-g-9">
      <textarea id="authorId" [rows]="2" [cols]="120" pInputTextarea [(ngModel)]="query.author_id"
                autoResize="autoResize"></textarea>
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Affiliation IDs:</h3>
          </div>
          <div class="ui-g-9">
      <textarea id="affiliationId" [rows]="2" [cols]="120" pInputTextarea [(ngModel)]="query.affiliation_id"
                autoResize="autoResize"></textarea>
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Subject Area:</h3>
          </div>
          <div class="ui-g-9">
      <textarea id="subject" [rows]="2" [cols]="120" pInputTextarea [(ngModel)]="query.subject"
                autoResize="autoResize"></textarea>
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Title:</h3>
          </div>
          <div class="ui-g-9">
      <textarea id="title" [rows]="2" [cols]="120" pInputTextarea [(ngModel)]="query.title"
                autoResize="autoResize"></textarea>
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-3">
            <h3>Timerange:</h3>
          </div>
          <div style="display: flex;" class="ui-g-2">
            <input style="vertical-align: bottom;" id="start_year" type="text" pInputText
                   [(ngModel)]="query.start_year"/>
          </div>
          <div class="ui-g-1 centered">
            <h3> to </h3>
          </div>
          <div style="display: flex;" class="ui-g-2">
            <input id="end_year" type="text" pInputText [(ngModel)]="query.end_year"/>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer *ngIf="!loading" class="footer">
        <div class="ui-g">
          <div class="ui-g-2">
            <h3>Actions:</h3>
          </div>
          <div class="ui-g-2">
            <button pButton type="button" class="ui-button-danger footer"
                    label="Start"
                    icon="fa-backward"
                    [routerLink]="['/start']"></button>
          </div>
          <div class="ui-g-2">
            <button pButton type="button" class="ui-button-danger footer" label="Save" icon="fa-save"
                    (click)="save()"></button>
          </div>
          <div class="ui-g-2">
            <button [disabled]="!projectService.activeProject.isQueryDefined" pButton type="button"
                    class="ui-button ui-button-danger footer" label="Copy Scopus search" icon="fa-run"
                    (click)="copySearchString('scopus')"></button>
          </div>
          <div class="ui-g-2">
          </div>
          <div class="ui-g-2">
            <button pButton type="button" class="ui-button-danger footer"
                    label="To EIDs"
                    icon="fa-forward"
                    [routerLink]="['/results/eids', queryId]"></button>
          </div>
        </div>
</footer>
