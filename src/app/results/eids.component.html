<nav class="navbar">
  <a class="navbar-brand" style="height: 50px;" href="https://aurora-network.global/">AurorA</a>

  <button pButton type="button" class="ui-button-success" style="width: 120px; height: 40px"
          label="Start" [routerLink]="['/start']"></button>
  >>
  <button pButton type="button" class="ui-button-success" style="width: 120px; height: 40px" label="Query"
          [routerLink]="['/queries', queryId]"></button>
  >>
  <span *ngFor="let page of resultPages">
  <button pButton type="button" class="ui-button-success" style="width: 120px; height: 40px" label="{{page.title}}"
          [routerLink]="['/results/' + page.key, queryId]"></button>
  >>
  </span>
</nav>

<div class="content">
  <div *ngIf="!loading" class="ui-g">

    <div class="ui-g-10 ui-g-offset-1">
      <div class="tile">
        <h1>EID Collection for "{{projectService.activeProject.name}}"</h1>
      </div>
    </div>
    <div class="ui-g-10 ui-g-offset-1">
      <div class="tile">
        <h2>Execute Query</h2>
        <p-messages [(value)]="messages"></p-messages>
        <p class="description">
          Press "Run query" to execute the defined query and collect the list of EIDs. Depending on the number of
          results this can take quite a while.
          After successful collection the list of all EIDs can be accessed by clicking "Complete list".
          Press. Press "Random sample list" to download a list of randomly chosen EIDs. The number of random EIDs can
          be altered using the input field. The default value is 100.
        </p>
        <div class="ui-g-3">
          <button pButton [disabled]="!this.projectService.activeProject.isEidsCollected" type="button"
                  class="ui-button"
                  label="Complete list"
                  (click)="downloadEids()"></button>
        </div>
        <div class="ui-g-5">
          <div class="ui-inputgroup">
            <input type="text" pInputText size="10" placeholder="Sample Size" style="background-color: transparent;"
                   [(ngModel)]="sampleSize">
            <button pButton [disabled]="!this.projectService.activeProject.isEidsCollected" type="button"
                    class="ui-button"
                    label="Random sample list"
                    (click)="downloadSampleEids()"></button>
            <button pButton [disabled]="!this.projectService.activeProject.isEidsCollected" type="button"
                    class="ui-button"
                    label="Scopus query to clipboard"
                    (click)="copySearchString()"></button>
          </div>
        </div>
        <div class="ui-g-4">
        </div>
      </div>
    </div>
  </div>
</div>
<footer class="footer">
  <div class="ui-g">
    <div class="ui-g-2">
      <h3>Actions:</h3>
    </div>
    <div class="ui-g-2">
      <button pButton type="button" class="ui-button-danger footer"
              label="Query page"
              icon="fa-backward"
              [routerLink]="['/queries', queryId]"></button>
    </div>
    <div class="ui-g-2">
      <button [disabled]="!projectService.activeProject.isQueryDefined" pButton type="button"
              class="ui-button-danger footer" label="Run query" icon="fa-forward"
              (click)="runQuery()"></button>
    </div>
    <div class="ui-g-4">
    </div>
    <div class="ui-g-2">
      <button pButton type="button" class="ui-button-danger footer"
              label="Records page"
              icon="fa-forward"
              [routerLink]="['/results/relevance', queryId]"></button>
    </div>
  </div>
</footer>
